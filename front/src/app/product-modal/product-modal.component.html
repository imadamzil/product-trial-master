<h2 mat-dialog-title>{{ isEditMode ? 'Modifier le produit' : 'Ajouter un produit' }}</h2>
<mat-dialog-content>
  <form [formGroup]="productForm" class="product-form">
    <div class="form-group">
      <label>Code <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input matInput formControlName="code" required />
        <mat-error *ngIf="productForm.get('code')?.hasError('required')">{{ 'Code requis' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Nom <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input matInput formControlName="name" required />
        <mat-error *ngIf="productForm.get('name')?.hasError('required')">{{ 'Nom requis' }}</mat-error>
      </mat-form-field>
    </div>


    <div class="form-group">
      <label>Description <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <textarea matInput formControlName="description" required></textarea>
        <mat-error *ngIf="productForm.get('description')?.hasError('required')">{{ 'Description requise' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Image URL <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input matInput formControlName="image" required />
        <mat-error *ngIf="productForm.get('image')?.hasError('required')">{{ 'URL de l\'image requise' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Catégorie <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input matInput formControlName="category" required />
        <mat-error *ngIf="productForm.get('category')?.hasError('required')">{{ 'Catégorie requise' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Prix <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input type="number" matInput formControlName="price" required />
        <mat-error *ngIf="productForm.get('price')?.hasError('required')">{{ 'Prix requis' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Quantité <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input type="number" matInput formControlName="quantity" required />
        <mat-error *ngIf="productForm.get('quantity')?.hasError('required')">{{ 'Quantité requise' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Référence interne <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input matInput formControlName="internalReference" required />
        <mat-error *ngIf="productForm.get('internalReference')?.hasError('required')">{{ 'Référence interne requise'
          }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>ID de la coque <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input type="number" matInput formControlName="shellId" required />
        <mat-error *ngIf="productForm.get('shellId')?.hasError('required')">{{ 'ID de la coque requis' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <label>Statut d'inventaire <span class="required">*</span></label>
      <mat-radio-group formControlName="inventoryStatus" aria-label="Statut d'inventaire">
        <mat-radio-button value="INSTOCK">En stock</mat-radio-button>
        <mat-radio-button value="LOWSTOCK">Low stock</mat-radio-button>
        <mat-radio-button value="OUTOFSTOCK">Hors stock</mat-radio-button>
      </mat-radio-group>
      <mat-error *ngIf="productForm.get('inventoryStatus')?.hasError('required')">{{ 'Statut d\'inventaire requis'
        }}</mat-error>
    </div>


    <div class="form-group">
      <label>Évaluation <span class="required">*</span></label>
      <mat-form-field appearance="fill" class="w-100">
        <input type="number" matInput formControlName="rating" min="0" max="5" step="0.1" required />
        <mat-error *ngIf="productForm.get('rating')?.hasError('required')">{{ 'Évaluation requise' }}</mat-error>
      </mat-form-field>
    </div>

    <div class="button-group">
      <button mat-button (click)="cancel()">Annuler</button>
      <button mat-button color="primary" (click)="save()">Enregistrer</button>
    </div>
  </form>
</mat-dialog-content>